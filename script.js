document.getElementById("business-form").addEventListener("submit", async function (e) {
    e.preventDefault(); // –û—Ç–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã

    // –ú–∞–ø–ø–∏–Ω–≥ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –¥–ª—è –±–∏–∑–Ω–µ—Å —Ç–∏–ø–æ–≤
    const businessTypeMap = {
        "wholesale": "–û–ø—Ç–æ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è",
        "retail": "–†–æ–∑–Ω–∏—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è",
        "online": "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω",
    };

    const exclusiveRightsMap = {
        "yes": "–î–∞",
        "no": "–ù–µ—Ç",
    };

    const marketingSupportMap = {
        "yes": "–î–∞",
        "no": "–ù–µ—Ç",
    };

    const internationalShipmentsMap = {
        "yes": "–î–∞",
        "no": "–ù–µ—Ç",
    };

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData.entries());

    // –ó–∞–º–µ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
    const businessType = businessTypeMap[data["business-type"]] || "–ù–µ —É–∫–∞–∑–∞–Ω";
    const exclusiveRights = exclusiveRightsMap[data["exclusive-rights"]] || "–ù–µ —É–∫–∞–∑–∞–Ω";
    const marketingSupport = marketingSupportMap[data["marketing-support"]] || "–ù–µ —É–∫–∞–∑–∞–Ω";
    const internationalShipments = internationalShipmentsMap[data["international-shipments"]] || "–ù–µ —É–∫–∞–∑–∞–Ω";

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–≥–ª–∞—Å–∏–µ
    const consentMessage = data.agreement === "on" ? "–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—É—á–µ–Ω–æ." : "–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–ª—É—á–µ–Ω–æ.";

    // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    const message = `
    üè¢ *–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –æ—Ç –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞*

    1Ô∏è‚É£ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–∞–Ω–∏–∏:

    - *–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏:* ${data["company-name"] || "–ù–µ —É–∫–∞–∑–∞–Ω–æ"}
    - *–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å:* ${data["company-address"] || "–ù–µ —É–∫–∞–∑–∞–Ω"}
    - *–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:* ${data["contact-person"] || "–ù–µ —É–∫–∞–∑–∞–Ω–æ"}
    - *–î–æ–ª–∂–Ω–æ—Å—Ç—å:* ${data["position"] || "–ù–µ —É–∫–∞–∑–∞–Ω–∞"}
    - *–¢–µ–ª–µ—Ñ–æ–Ω:* ${data["phone"] || "–ù–µ —É–∫–∞–∑–∞–Ω"}
    - *Email:* ${data["email"] || "–ù–µ —É–∫–∞–∑–∞–Ω"}
    - *–°–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏:* ${data["website"] || "–ù–µ —É–∫–∞–∑–∞–Ω"}

    2Ô∏è‚É£ –û–ø–∏—Å–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞:

    - *–¢–∏–ø –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:* ${businessType}
    - *–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤ –æ—Ç—Ä–∞—Å–ª–∏:* ${data["industry-experience"] || "–ù–µ —É–∫–∞–∑–∞–Ω"}
    - *–¢–µ–∫—É—â–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã:* ${data["current-partners"] || "–ù–µ —É–∫–∞–∑–∞–Ω—ã"}
    - *–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã –ø—Ä–æ–¥–∞–∂:* ${data["regions"] || "–ù–µ —É–∫–∞–∑–∞–Ω—ã"}

    3Ô∏è‚É£ –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—é:

    - *–ü—Ä–æ–¥—É–∫—Ç—ã/—É—Å–ª—É–≥–∏ –¥–ª—è –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏–∏:* ${data["products"] || "–ù–µ —É–∫–∞–∑–∞–Ω—ã"}
    - *–û–∂–∏–¥–∞–µ–º—ã–π –æ–±—ä–µ–º –ø—Ä–æ–¥–∞–∂:* ${data["sales-volume"] || "–ù–µ —É–∫–∞–∑–∞–Ω"}
    - *–ù—É–∂–¥–∞—é—Å—å –≤ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö:* ${exclusiveRights}
    - *–ì–æ—Ç–æ–≤—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É:* ${marketingSupport}
    - *–ï—Å—Ç—å –ª–∏ –æ–ø—ã—Ç –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤–æ–∫:* ${internationalShipments}

    4Ô∏è‚É£ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:

    - *–ö–∞–Ω–∞–ª—ã –ø—Ä–æ–¥–∞–∂:* ${data["sales-channels"] || "–ù–µ —É–∫–∞–∑–∞–Ω—ã"}
    - *–ü–ª–∞–Ω—ã –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é –ø—Ä–æ–¥—É–∫—Ü–∏–∏:* ${data["promotion-plans"] || "–ù–µ —É–∫–∞–∑–∞–Ω—ã"}
    - *–ì–∞—Ä–∞–Ω—Ç–∏–∏/—É—Å–ª–æ–≤–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞:* ${data["partnership-terms"] || "–ù–µ —É–∫–∞–∑–∞–Ω—ã"}
    - *–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:* ${data["additional-comments"] || "–ù–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤"}

    *‚úÖ ${consentMessage}*
    `;

    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Telegram
    const TELEGRAM_TOKEN = "TELEGRAM_TOKEN"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω
    const CHAT_ID = "CHAT_ID"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à ID —á–∞—Ç–∞ –∏–ª–∏ –∫–∞–Ω–∞–ª–∞
    const URL = `https://api.telegram.org/bot{TELEGRAM_TOKEN}/sendMessage`; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω

    try {
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
        const response = await fetch(URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                chat_id: CHAT_ID,
                text: message,
                parse_mode: "Markdown",
            }),
        });

        if (!response.ok) {
            throw new Error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è");
        }

        alert("–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!");
        e.target.reset(); // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
    } catch (error) {
        console.error(error);
        alert("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
    }
});

// –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è Safari

$(document).ready(function() {
    $('select').select2();
});
